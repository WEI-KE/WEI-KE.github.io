[{"categories":[null],"content":"Introduction Recently, I replaced a batch of Huawei switches and switched to using SSH for remote access, which rendered my previous Telnet script unusable. Therefore, I spent some time rewriting a multi-threaded SSH program called Multithreaded-SSH using Python. This version is still not very flexible, but it can execute some basic commands. For example, it can execute ‚Äúdis cur‚Äù command combined with the ‚Äússhlog‚Äù file to backup device configurations, or perform batch password modifications. The code is open source on üëâ GitHub. I have also packaged it into an .exe executable file. Feel free to download it if you need it. Currently, the program is not available in English, but there might be an English version in the future. The executable file packaged with PyInstaller may be flagged as malicious by security software for unknown reasons. If you have concerns, you can choose to package it yourself. ","date":"2023-06-24","objectID":"/en/2023/06/multithreaded-ssh-v0.1.1/:1:0","tags":[null],"title":"Multithreaded SSH V0.1.1","uri":"/en/2023/06/multithreaded-ssh-v0.1.1/"},{"categories":[null],"content":"Usage Instructions Make sure there are two files named host.txt and commands.txt in the same directory as the program. As the names suggest, host.txt contains the addresses of remote hosts (one per line), and commands.txt contains the commands to be executed (one command per line). Make sure the program has permissions to create directories and files. After execution, the program will create two directories and several log files: log year-month-day.log Paramiko-year-month-day.log sshlog year-month-day-host-address.log year-month-day.log is used to store the program‚Äôs output logs, where you can see the execution status of the program. Paramiko-year-month-day.log stores the logs of Paramiko for troubleshooting SSH connections. year-month-day-host-address.log is used to store the output of each host after establishing an SSH connection. When prompted, enter the device password. The password will not be displayed in the terminal. The program will provide real-time output and summary while running, but it can be messy when dealing with multiple devices. You can check the program logs after it finishes. ","date":"2023-06-24","objectID":"/en/2023/06/multithreaded-ssh-v0.1.1/:2:0","tags":[null],"title":"Multithreaded SSH V0.1.1","uri":"/en/2023/06/multithreaded-ssh-v0.1.1/"},{"categories":[null],"content":"Note In the current version of the program (v0.1.1), the completion of a command is determined by the prompt \u003cdevice-name or [device-name. This is mainly to adapt to network devices of brands like Huawei. If a command does not return to the prompt within 60 seconds (default time), the program will consider it as a command execution failure. For example, if the command requires inputting ‚Äòy‚Äô, currently you can only put the combined command in one line, like save \\n y. Use \\n for line breaks. If you have other requirements, you can modify the code for handling command completion or wait for future updates. Info On some devices, the confirmation prompt times out after 30 seconds, and it will automatically cancel and return to the prompt. The program will capture this and consider the command execution successful. So, please check the sshlog logs for confirmation after the program finishes. ","date":"2023-06-24","objectID":"/en/2023/06/multithreaded-ssh-v0.1.1/:3:0","tags":[null],"title":"Multithreaded SSH V0.1.1","uri":"/en/2023/06/multithreaded-ssh-v0.1.1/"},{"categories":[null],"content":"Update Plans Expected updates within 2 to 3 weeks: Add the ability to define commands for individual hosts. Add the ability to define termination characters for each command to adapt to different scenarios and devices. Improve code modularity for easier integration and use by other programs. Optimize code logic. Enhance code comments. Not planned for updates: Automatic password retrieval: Currently, the program requires entering the device password each time it .is executed, and it will remain so in the future. I haven‚Äôt found a perfect way to store passwords. Automatic retrieval of usernames may be considered. ","date":"2023-06-24","objectID":"/en/2023/06/multithreaded-ssh-v0.1.1/:4:0","tags":[null],"title":"Multithreaded SSH V0.1.1","uri":"/en/2023/06/multithreaded-ssh-v0.1.1/"},{"categories":[null],"content":"Conclusion I‚Äôm still a beginner in the programming world, and my code may not be great. I welcome discussions in the comments section below or direct problem submissions (issues) on GitHub. If you find this program useful, you can give it a üëç below or give it a ‚≠ê on GitHub. Thank you for your support. This article was translated by ChatGPT. ","date":"2023-06-24","objectID":"/en/2023/06/multithreaded-ssh-v0.1.1/:5:0","tags":[null],"title":"Multithreaded SSH V0.1.1","uri":"/en/2023/06/multithreaded-ssh-v0.1.1/"},{"categories":null,"content":" Welcome to my blog, nice to meet you!ü§ù ","date":"2023-05-02","objectID":"/en/2023/05/about/:0:0","tags":[],"title":"About","uri":"/en/2023/05/about/"},{"categories":null,"content":"üë®‚Äçüíª Blogger WAKE ","date":"2023-05-02","objectID":"/en/2023/05/about/:1:0","tags":[],"title":"About","uri":"/en/2023/05/about/"},{"categories":null,"content":"‚õπ Interests üéÆ ","date":"2023-05-02","objectID":"/en/2023/05/about/:2:0","tags":[],"title":"About","uri":"/en/2023/05/about/"},{"categories":null,"content":"üì¨ Contact me If you can find this blog then you should already have my contact informationüòú Reverse the first two numbersüëâhi@weike.club ‚úâÔ∏è ","date":"2023-05-02","objectID":"/en/2023/05/about/:3:0","tags":[],"title":"About","uri":"/en/2023/05/about/"}]