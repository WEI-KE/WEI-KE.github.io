<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://WEI-KE.github.io</id>
    <title>WAKE</title>
    <updated>2023-05-04T14:23:34.561Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="http://WEI-KE.github.io"/>
    <link rel="self" href="http://WEI-KE.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>http://WEI-KE.github.io/images/avatar.png</logo>
    <icon>http://WEI-KE.github.io/favicon.ico</icon>
    <rights>All rights reserved 2023, WAKE</rights>
    <entry>
        <title type="html"><![CDATA[ospfåŸºç¡€]]></title>
        <id>http://WEI-KE.github.io/post/ospf-ji-chu/</id>
        <link href="http://WEI-KE.github.io/post/ospf-ji-chu/">
        </link>
        <updated>2023-05-02T15:38:52.000Z</updated>
        <summary type="html"><![CDATA[<p>ospfå­¦ä¹ ç¬”è®°</p>
]]></summary>
        <content type="html"><![CDATA[<p>ospfå­¦ä¹ ç¬”è®°</p>
<!-- more -->
<h1 id="ospfåŸºç¡€">ospfåŸºç¡€</h1>
<h3 id="router-id"><strong>Router IDï¼š</strong></h3>
<ul>
<li>ä¼ä¸šç½‘ä¸­çš„è®¾å¤‡å°‘åˆ™å‡ å°å¤šåˆ™å‡ åå°ç”šè‡³å‡ ç™¾å°ï¼Œæ¯å°è·¯ç”±å™¨éƒ½éœ€è¦æœ‰ä¸€ä¸ªå”¯ä¸€çš„IDç”¨äºæ ‡è¯†è‡ªå·±ã€‚</li>
<li>Router IDæ˜¯ä¸€ä¸ª32ä½çš„æ— ç¬¦å·æ•´æ•°ï¼Œå…¶æ ¼å¼å’ŒIPåœ°å€çš„æ ¼å¼æ˜¯ä¸€æ ·çš„ï¼ŒRouterIDé€‰ä¸¾è§„åˆ™å¦‚ä¸‹ï¼š
<ol>
<li>æ‰‹åŠ¨é…ç½®OSPFè·¯ç”±å™¨çš„Router IDï¼ˆé€šå¸¸å»ºè®®æ‰‹åŠ¨é…ç½®ï¼‰ï¼›</li>
<li>å¦‚æœæ²¡æœ‰æ‰‹åŠ¨é…ç½®Router IDï¼Œåˆ™è·¯ç”±å™¨ä½¿ç”¨Loopbackæ¥å£ä¸­<strong>æœ€å¤§çš„IPåœ°å€</strong>ä½œä¸º Router IDï¼›</li>
<li>å¦‚æœæ²¡æœ‰é…ç½®Loopbackæ¥å£ï¼Œåˆ™è·¯ç”±å™¨ä½¿ç”¨ç‰©ç†æ¥å£ä¸­<strong>æœ€å¤§çš„IPåœ°å€</strong>ä½œä¸ºRouter IDã€‚</li>
</ol>
</li>
<li>OSPFçš„è·¯ç”±å™¨Router IDé‡æ–°é…ç½®åï¼Œå¯ä»¥é€šè¿‡é‡ç½®OSPFè¿›ç¨‹æ¥æ›´æ–°Router IDã€‚</li>
</ul>
<p>æ³¨ï¼šrouter IDåªæ˜¯æ ¼å¼ä¸ºipåœ°å€æ ¼å¼ï¼Œåªæ˜¯ä½œä¸ºåç§°åœ°å€å¯ä»¥ä¸å­˜åœ¨</p>
<h3 id="é‚»å±…å»ºç«‹è¿‡ç¨‹"><strong>é‚»å±…å»ºç«‹è¿‡ç¨‹ï¼š</strong></h3>
<figure data-type="image" tabindex="1"><img src="http://WEI-KE.github.io/post-images/1683042032465.png" alt="" loading="lazy"></figure>
<ul>
<li>OSPFè·¯ç”±å™¨ä¹‹é—´åœ¨äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å½¼æ­¤å»ºç«‹é‚»å±…å…³ç³»ï¼Œé€šè¿‡HelloæŠ¥æ–‡ å®ç°ã€‚
<ul>
<li>
<p>OSPFåè®®é€šè¿‡HelloæŠ¥æ–‡å¯ä»¥è®©äº’è”çš„è·¯ç”±å™¨é—´è‡ªåŠ¨å‘ç°å¹¶å»ºç«‹é‚»å±…å…³ç³»ï¼Œä¸ºåç»­å¯</p>
</li>
<li>
<p>åœ¨å½¢æˆé‚»å±…å…³ç³»è¿‡ç¨‹ä¸­ï¼Œè·¯ç”±å™¨é€šè¿‡HelloæŠ¥æ–‡å®Œæˆä¸€äº›å‚æ•°çš„åå•†ã€‚</p>
</li>
<li>
<p>é‚»å±…å…³ç³»å»ºç«‹åï¼Œå‘¨æœŸæ€§çš„HelloæŠ¥æ–‡å‘é€è¿˜å¯ä»¥å®ç°é‚»å±…ä¿æŒçš„åŠŸèƒ½ï¼Œåœ¨ä¸€å®šæ—¶é—´ å†…æ²¡æœ‰æ”¶åˆ°é‚»å±…çš„HelloæŠ¥æ–‡ï¼Œåˆ™ä¼šä¸­æ–­è·¯ç”±å™¨é—´çš„OSPFé‚»å±…å…³ç³»ã€‚</p>
<p>è¾¾æ€§ä¿¡æ¯çš„åŒæ­¥ä½œå‡†å¤‡ã€‚<br>
ä¸¤ç§æ–¹å¼ï¼šç»„æ’­<a href="http://224.0.0.5" title="224.0.0.5">224.0.0.5</a> 224.0.0.6ã€æ‰‹å·¥å•æ’­</p>
</li>
</ul>
</li>
<li>LSAé“¾è·¯çŠ¶æ€ä¿¡æ¯
<ul>
<li>é“¾è·¯ç±»å‹</li>
<li>æ¥å£ipåœ°å€åŠæ©ç </li>
<li>é“¾è·¯ä¸Šæ‰€è¿æ¥çš„é‚»å±…è·¯ç”±å™¨</li>
<li>é“¾è·¯çš„å¸¦å®½ï¼ˆå¼€é”€ï¼‰</li>
</ul>
</li>
</ul>
<p>ospf åº¦é‡æ–¹å¼</p>
<p>ospf æŠ¥æ–‡ç±»å‹</p>
<figure data-type="image" tabindex="2"><img src="http://WEI-KE.github.io/post-images/1683042055018.png" alt="" loading="lazy"></figure>
<p>è·¯ç”±ä¿¡æ¯ä»…åœ¨ç¬¬4ç§é‡Œï¼Œå…¶ä»–çš„éƒ½æ˜¯æ‘˜è¦ä¿¡æ¯</p>
<p>DRè§’è‰²ä¸ä¼šè¢«æŠ¢å ï¼Œéœ€æ‰‹åŠ¨é‡å¯è¿›ç¨‹</p>
<p>ospfçš„lsdbåŒæ­¥</p>
<figure data-type="image" tabindex="3"><img src="http://WEI-KE.github.io/post-images/1683042067477.png" alt="" loading="lazy"></figure>
<ul>
<li>çŠ¶æ€å«ä¹‰ï¼š
<ul>
<li>ExStartï¼šé‚»å±…çŠ¶æ€å˜æˆæ­¤çŠ¶æ€ä»¥åï¼Œè·¯ç”±å™¨å¼€å§‹å‘é‚»å±…å‘é€DDæŠ¥æ–‡ã€‚Master/Slave Â å…³ç³»æ˜¯åœ¨æ­¤çŠ¶æ€ä¸‹å½¢æˆçš„ï¼Œåˆå§‹DDåºåˆ—å·ä¹Ÿæ˜¯åœ¨æ­¤çŠ¶æ€ä¸‹ç¡®å®šçš„ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹å‘é€ çš„DDæŠ¥æ–‡ä¸åŒ…å«é“¾è·¯çŠ¶æ€æè¿°ã€‚</li>
<li>Exchangeï¼šåœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè·¯ç”±å™¨ä¸é‚»å±…ä¹‹é—´ç›¸äº’å‘é€åŒ…å«é“¾è·¯çŠ¶æ€ä¿¡æ¯æ‘˜è¦çš„DDæŠ¥ æ–‡ã€‚</li>
<li>Loadingï¼šåœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè·¯ç”±å™¨ä¸é‚»å±…ä¹‹é—´ç›¸äº’å‘é€LSRæŠ¥æ–‡ã€LSUæŠ¥æ–‡ã€LSAckæŠ¥ æ–‡ã€‚</li>
<li>Fullï¼šLSDBåŒæ­¥è¿‡ç¨‹å®Œæˆï¼Œè·¯ç”±å™¨ä¸é‚»å±…ä¹‹é—´å½¢æˆäº†å®Œå…¨çš„é‚»æ¥å…³ç³»ã€‚</li>
</ul>
</li>
<li>LSDBåŒæ­¥è¿‡ç¨‹å¦‚ä¸‹ï¼š
<ul>
<li>
<p>RTAå’ŒRTBçš„Router IDåˆ†åˆ«ä¸º<a href="http://1.1.1.xn--12-jy6c.2.2.xn--2-5o6a4nxa038a38u0xcd4ab8au66pdbftqkdv0d" title="1.1.1.1å’Œ2.2.2.2å¹¶ä¸”äºŒè€…å·²å»ºç«‹äº†é‚»å±…å…³ç³»">1.1.1.1å’Œ2.2.2.2å¹¶ä¸”äºŒè€…å·²å»ºç«‹äº†é‚»å±…å…³ç³»</a>ã€‚å½“RTA Â çš„é‚»å±…çŠ¶æ€å˜ä¸ºExStartåï¼ŒRTAä¼šå‘é€ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ã€‚æ­¤æŠ¥æ–‡ä¸­ï¼ŒDDåºåˆ—å·è¢«éš æœºè®¾ç½®ä¸ºXï¼ŒI-bitè®¾ç½®ä¸º1ï¼Œè¡¨ç¤ºè¿™æ˜¯ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ï¼ŒM-bitè®¾ç½®ä¸º1ï¼Œè¡¨ç¤ºåç»­è¿˜æœ‰ DDæŠ¥æ–‡è¦å‘é€ï¼ŒMS-bitè®¾ç½®ä¸º1ï¼Œè¡¨ç¤ºRTAå®£å‘Šè‡ªå·±ä¸ºMasterã€‚</p>
</li>
<li>
<p>å½“RTBçš„é‚»å±…çŠ¶æ€å˜ä¸ºExStartåï¼ŒRTBä¼šå‘é€ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ã€‚æ­¤æŠ¥æ–‡ä¸­ï¼ŒDDåºåˆ—å· è¢«éšæœºè®¾ç½®ä¸ºYï¼ˆI-bit=1ï¼ŒM-bit=1ï¼ŒMS-bit=1ï¼Œå«ä¹‰åŒä¸Šï¼‰ã€‚ç”±äºRTBçš„Router Â IDè¾ƒå¤§ï¼Œæ‰€ä»¥RTBå°†æˆä¸ºçœŸæ­£çš„Masterã€‚æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼ŒRTAä¼šäº§ç”Ÿä¸€ä¸ª Negotiation-Doneäº‹ä»¶ï¼Œå¹¶å°†é‚»å±…çŠ¶æ€ä»ExStartå˜ä¸ºExchangeã€‚</p>
</li>
<li>
<p>å½“RTAçš„é‚»å±…çŠ¶æ€å˜ä¸ºExchangeåï¼ŒRTAä¼šå‘é€ä¸€ä¸ªæ–°çš„DDæŠ¥æ–‡ï¼Œæ­¤æŠ¥æ–‡ä¸­åŒ…å«äº† LSDBçš„æ‘˜è¦ä¿¡æ¯ï¼Œåºåˆ—å·è®¾ç½®ä¸ºRTBåœ¨æ­¥éª¤2ä¸­ä½¿ç”¨çš„åºåˆ—å·Yï¼ŒI-bit=0ï¼Œè¡¨ç¤ºè¿™ä¸ æ˜¯ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ï¼ŒM-bit=0ï¼Œè¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ä¸ªåŒ…å«LSDBæ‘˜è¦ä¿¡æ¯çš„DDæŠ¥æ–‡ï¼Œ Â MS-bit=0ï¼Œè¡¨ç¤ºRTAå®£å‘Šè‡ªå·±ä¸ºSlaveã€‚æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼ŒRTBä¼šäº§ç”Ÿä¸€ä¸ª Negotiation-Doneäº‹ä»¶ï¼Œå¹¶å°†é‚»å±…çŠ¶æ€ä»ExStartå˜ä¸ºExchangeã€‚</p>
</li>
<li>
<p>å½“RTBçš„é‚»å±…çŠ¶æ€å˜ä¸ºExchangeåï¼ŒRTBä¼šå‘é€ä¸€ä¸ªæ–°çš„DDæŠ¥æ–‡ï¼Œæ­¤æŠ¥æ–‡åŒ…å«äº† LSDBçš„æ‘˜è¦ä¿¡æ¯ï¼ŒDDåºåˆ—å·è®¾ç½®ä¸ºY+1, MS-bit=1ï¼Œè¡¨ç¤ºRTBå®£å‘Šè‡ªå·±ä¸ºMasterã€‚</p>
</li>
<li>
<p>è™½ç„¶RTAä¸éœ€è¦å‘é€æ–°çš„åŒ…å«LSDBæ‘˜è¦ä¿¡æ¯çš„DDæŠ¥æ–‡ï¼Œä½†æ˜¯ä½œä¸ºSlaveï¼ŒRTAéœ€è¦ å¯¹Masterå‘é€çš„æ¯ä¸€ä¸ªDDæŠ¥æ–‡è¿›è¡Œç¡®è®¤ã€‚æ‰€ä»¥ï¼ŒRTAå‘RTBå‘é€ä¸€ä¸ªæ–°çš„DDæŠ¥æ–‡ï¼Œ Â åºåˆ—å·ä¸ºY+1ï¼Œè¯¥æŠ¥æ–‡å†…å®¹ä¸ºç©ºã€‚å‘é€å®Œæ­¤æŠ¥æ–‡åï¼ŒRTAäº§ç”Ÿä¸€ä¸ªExchange-Done Â äº‹ä»¶ï¼Œå°†é‚»å±…çŠ¶æ€å˜ä¸ºLoadingã€‚RTBæ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œä¼šå°†é‚»å±…çŠ¶æ€å˜ä¸ºFullï¼ˆå‡è®¾ RTBçš„LSDBæ˜¯æœ€æ–°æœ€å…¨çš„ï¼Œä¸éœ€è¦å‘RTAè¯·æ±‚æ›´æ–°ï¼‰ã€‚</p>
<ul>
<li>å¦‚æœéœ€è¦æ›´æ–°ï¼š</li>
</ul>
<figure data-type="image" tabindex="4"><img src="http://WEI-KE.github.io/post-images/1683042094446.png" alt="" loading="lazy"></figure>
<ul>
<li>RTAå¼€å§‹å‘RTBå‘é€LSRæŠ¥æ–‡ï¼Œè¯·æ±‚é‚£äº›åœ¨ExchangeçŠ¶æ€ä¸‹é€šè¿‡DDæŠ¥æ–‡å‘ç°çš„ã€å¹¶ ä¸”åœ¨æœ¬åœ°LSDBä¸­æ²¡æœ‰çš„é“¾è·¯çŠ¶æ€ä¿¡æ¯ã€‚
<ul>
<li>RTBå‘RTAå‘é€LSUæŠ¥æ–‡ï¼ŒLSUæŠ¥æ–‡ä¸­åŒ…å«äº†é‚£äº›è¢«è¯·æ±‚çš„é“¾è·¯çŠ¶æ€çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>RTAå‘RTBå‘é€LSAckæŠ¥æ–‡ï¼Œä½œä¸ºå¯¹LSUæŠ¥æ–‡çš„ç¡®è®¤ã€‚RTBæ”¶åˆ°LSAckæŠ¥æ–‡åï¼ŒåŒæ–¹ä¾¿ å»ºç«‹èµ·äº†å®Œå…¨çš„é‚»æ¥å…³ç³»ã€‚</li>
</ul>
</li>
<li>
<p>ä»å»ºç«‹é‚»å±…å…³ç³»åˆ°åŒæ­¥LSDBçš„è¿‡ç¨‹è¾ƒä¸ºå¤æ‚ï¼Œé”™è¯¯çš„é…ç½®æˆ–è®¾å¤‡é“¾è·¯æ•…éšœéƒ½ä¼šå¯¼è‡´æ— æ³•å®Œ æˆLSDBåŒæ­¥ã€‚ä¸ºäº†å¿«é€Ÿæ’éšœï¼Œæœ€å…³é”®çš„æ˜¯è¦ç†è§£ä¸åŒçŠ¶æ€ä¹‹é—´åˆ‡æ¢çš„è§¦å‘åŸå› ã€‚</p>
<p>RTAåœ¨å®ŒæˆLSUæŠ¥æ–‡çš„æ¥æ”¶ä¹‹åï¼Œä¼šå°†é‚»å±…çŠ¶æ€ä»Loadingå˜ä¸ºFullã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ospfé‚»å±…çŠ¶æ€æœºåˆ¶</p>
<figure data-type="image" tabindex="5"><img src="http://WEI-KE.github.io/post-images/1683042130529.png" alt="" loading="lazy"></figure>
<ul>
<li>è¿™æ˜¯å½¢æˆé‚»å±…å…³ç³»çš„è¿‡ç¨‹å’Œç›¸å…³é‚»å±…çŠ¶æ€çš„å˜æ¢è¿‡ç¨‹ã€‚
<ul>
<li>Downï¼šè¿™æ˜¯é‚»å±…çš„åˆå§‹çŠ¶æ€ï¼Œè¡¨ç¤ºæ²¡æœ‰ä»é‚»å±…æ”¶åˆ°ä»»ä½•ä¿¡æ¯ã€‚åœ¨NBMAç½‘ç»œä¸Šï¼Œæ­¤ çŠ¶æ€ä¸‹ä»ç„¶å¯ä»¥å‘é™æ€é…ç½®çš„é‚»å±…å‘é€HelloæŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºPollIntervalï¼Œé€šå¸¸å’Œ Router DeadIntervalé—´éš”ç›¸åŒã€‚</li>
<li>Attemptï¼šæ­¤çŠ¶æ€åªåœ¨NBMAç½‘ç»œä¸Šå­˜åœ¨ï¼Œè¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é‚»å±…çš„ä»»ä½•ä¿¡æ¯ï¼Œä½†æ˜¯å·²ç» å‘¨æœŸæ€§çš„å‘é‚»å±…å‘é€æŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºHelloIntervalã€‚å¦‚æœRouter DeadIntervalé—´ éš”å†…æœªæ”¶åˆ°é‚»å±…çš„HelloæŠ¥æ–‡ï¼Œåˆ™è½¬ä¸ºDownçŠ¶æ€ã€‚</li>
<li>Initï¼šåœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè·¯ç”±å™¨å·²ç»ä»é‚»å±…æ”¶åˆ°äº†HelloæŠ¥æ–‡ï¼Œä½†æ˜¯è‡ªå·±ä¸åœ¨æ‰€æ”¶åˆ°çš„ HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼Œè¡¨ç¤ºå°šæœªä¸é‚»å±…å»ºç«‹åŒå‘é€šä¿¡å…³ç³»ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹çš„é‚»å±…è¦ è¢«åŒ…å«åœ¨è‡ªå·±æ‰€å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ã€‚</li>
<li>2-Way Receivedï¼šæ­¤äº‹ä»¶è¡¨ç¤ºè·¯ç”±å™¨å‘ç°ä¸é‚»å±…çš„åŒå‘é€šä¿¡å·²ç»å¼€å§‹ï¼ˆå‘ç°è‡ªå·±åœ¨ é‚»å±…å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼‰ã€‚InitçŠ¶æ€ä¸‹äº§ç”Ÿæ­¤äº‹ä»¶ä¹‹åï¼Œå¦‚æœéœ€è¦å’Œé‚»å±… å»ºç«‹é‚»æ¥å…³ç³»åˆ™è¿›å…¥ExStartçŠ¶æ€ï¼Œå¼€å§‹æ•°æ®åº“åŒæ­¥è¿‡ç¨‹ï¼Œå¦‚æœä¸èƒ½ä¸é‚»å±…å»ºç«‹é‚»æ¥ å…³ç³»åˆ™è¿›å…¥2-Wayã€‚</li>
<li>2-Wayï¼šåœ¨æ­¤çŠ¶æ€ä¸‹ï¼ŒåŒå‘é€šä¿¡å·²ç»å»ºç«‹ï¼Œä½†æ˜¯æ²¡æœ‰ä¸é‚»å±…å»ºç«‹é‚»æ¥å…³ç³»ã€‚è¿™æ˜¯å»ºç«‹ é‚»æ¥å…³ç³»ä»¥å‰çš„æœ€é«˜çº§çŠ¶æ€ã€‚</li>
<li>1-Way Receivedï¼šæ­¤äº‹ä»¶è¡¨ç¤ºè·¯ç”±å™¨å‘ç°è‡ªå·±æ²¡æœ‰åœ¨é‚»å±…å‘é€HelloæŠ¥æ–‡çš„é‚»å±…åˆ— è¡¨ä¸­ï¼Œé€šå¸¸æ˜¯ç”±äºå¯¹ç«¯é‚»å±…é‡å¯é€ æˆçš„ã€‚</li>
<li>ExStartï¼šè¿™æ˜¯å½¢æˆé‚»æ¥å…³ç³»çš„ç¬¬ä¸€ä¸ªæ­¥éª¤ï¼Œé‚»å±…çŠ¶æ€å˜æˆæ­¤çŠ¶æ€ä»¥åï¼Œè·¯ç”±å™¨å¼€å§‹ å‘é‚»å±…å‘é€DDæŠ¥æ–‡ã€‚ä¸»ä»å…³ç³»æ˜¯åœ¨æ­¤çŠ¶æ€ä¸‹å½¢æˆçš„ï¼›åˆå§‹DDåºåˆ—å·æ˜¯åœ¨æ­¤çŠ¶æ€ä¸‹å†³ å®šçš„ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹å‘é€çš„DDæŠ¥æ–‡ä¸åŒ…å«é“¾è·¯çŠ¶æ€æè¿°ã€‚</li>
<li>Exchangeï¼šæ­¤çŠ¶æ€ä¸‹è·¯ç”±å™¨ç›¸äº’å‘é€åŒ…å«é“¾è·¯çŠ¶æ€ä¿¡æ¯æ‘˜è¦çš„DDæŠ¥æ–‡ï¼Œæè¿°æœ¬åœ° LSDBçš„å†…å®¹ã€‚</li>
<li>Loadingï¼šç›¸äº’å‘é€LS RequestæŠ¥æ–‡è¯·æ±‚LSAï¼Œå‘é€LS Updateé€šå‘ŠLSAã€‚</li>
<li>Fullï¼šä¸¤å°è·¯ç”±å™¨çš„LSDBå·²ç»åŒæ­¥ã€‚</li>
</ul>
</li>
</ul>
<p>DRä¸BDRé€‰ä¸¾</p>
<p>è§„åˆ™ï¼šåŸºäºæ¥å£ï¼Œæ¥å£çš„ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜å…ˆï¼Œä¼˜å…ˆçº§ç›¸ç­‰ router IDè¶Šå¤§è¶Šä¼˜å…ˆ</p>
<p>ä¼˜å…ˆçº§ä¸º0ä¸å‚ä¸é€‰ä¸¾</p>
<p>.6åªæœ‰dræˆ–bdræ¥æ”¶</p>
<p>.5ç»™æ‰€æœ‰çš„ospfæ¥æ”¶</p>
<h3 id="é‚»æ¥å»ºç«‹è¿‡ç¨‹"><strong>é‚»æ¥å»ºç«‹è¿‡ç¨‹ï¼š</strong></h3>
<p>è·¯ç”±åŒæ­¥åæ‰æ˜¯é‚»æ¥å…³ç³»</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[IPåœ°å€ä¸­çš„ä¿ç•™IP]]></title>
        <id>http://WEI-KE.github.io/post/ipv4-bao-liu-ip/</id>
        <link href="http://WEI-KE.github.io/post/ipv4-bao-liu-ip/">
        </link>
        <updated>2023-05-02T15:19:26.000Z</updated>
        <content type="html"><![CDATA[<p>å› ä¸ºè¡¨æ ¼å¤ªå¤§ æ‰‹åŠ¨è°ƒæ•´äº†ç½‘é¡µå®½åº¦ å»ºè®®ç”¨ç”µè„‘çœ‹</p>
<div style="position: relative;  height: 3400px">
</div>
<div style="position: absolute; width:80%;left: 10%; right:200px;top:1100;">
# ä¿ç•™IP
<h2 id="ipv4">IPV4</h2>
<table>
<thead>
<tr>
<th>åœ°å€å— (<a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1" title="CIDR">CIDR</a>)</th>
<th>èŒƒå›´</th>
<th>åœ°å€æ•°</th>
<th>æ•ˆç”¨åŸŸ</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://0.0.0.0/8" title="0.0.0.0/8">0.0.0.0/8</a></td>
<td><a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a> â€“ <a href="http://0.255.255.255" title="0.255.255.255">0.255.255.255</a></td>
<td>16,777,216</td>
<td>è½¯ä»¶</td>
<td>ç”¨äºå¹¿æ’­ä¿¡æ¯åˆ°å½“å‰ä¸»æœºã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-1" title="[1]">[1]</a></td>
</tr>
<tr>
<td><a href="http://10.0.0.0/8" title="10.0.0.0/8">10.0.0.0/8</a></td>
<td><a href="http://10.0.0.0" title="10.0.0.0">10.0.0.0</a> â€“ <a href="http://10.255.255.255" title="10.255.255.255">10.255.255.255</a></td>
<td>16,777,216</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C" title="ä¸“ç”¨ç½‘ç»œ">ä¸“ç”¨ç½‘ç»œ</a>ä¸­çš„æœ¬åœ°é€šä¿¡ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc1918-2" title="[2]">[2]</a></td>
</tr>
<tr>
<td><a href="http://100.64.0.0/10" title="100.64.0.0/10">100.64.0.0/10</a></td>
<td><a href="http://100.64.0.0" title="100.64.0.0">100.64.0.0</a> â€“ <a href="http://100.127.255.255" title="100.127.255.255">100.127.255.255</a></td>
<td>4,194,304</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äºåœ¨<a href="https://zh.wikipedia.org/wiki/%E7%94%B5%E4%BF%A1%E7%BA%A7NAT" title="ç”µä¿¡çº§NAT">ç”µä¿¡çº§NAT</a>ç¯å¢ƒä¸­æœåŠ¡æä¾›å•†ä¸å…¶ç”¨æˆ·é€šä¿¡ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-3" title="[3]">[3]</a></td>
</tr>
<tr>
<td><a href="http://127.0.0.0/8" title="127.0.0.0/8">127.0.0.0/8</a></td>
<td><a href="http://127.0.0.0" title="127.0.0.0">127.0.0.0</a> â€“ <a href="http://127.255.255.255" title="127.255.255.255">127.255.255.255</a></td>
<td>16,777,216</td>
<td>ä¸»æœº</td>
<td>ç”¨äºåˆ°æœ¬åœ°ä¸»æœºçš„ç¯å›åœ°å€ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-4" title="[4]">[4]</a></td>
</tr>
<tr>
<td><a href="http://169.254.0.0/16" title="169.254.0.0/16">169.254.0.0/16</a></td>
<td><a href="http://169.254.0.0" title="169.254.0.0">169.254.0.0</a> â€“ <a href="http://169.254.255.255" title="169.254.255.255">169.254.255.255</a></td>
<td>65,536</td>
<td>é“¾è·¯</td>
<td>ç”¨äºå•é“¾è·¯çš„ä¸¤ä¸ªä¸»æœºä¹‹é—´çš„<a href="https://zh.wikipedia.org/wiki/%E9%93%BE%E8%B7%AF%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80" title="é“¾è·¯æœ¬åœ°åœ°å€">é“¾è·¯æœ¬åœ°åœ°å€</a>ï¼Œè€Œæ²¡æœ‰å¦å¤–æŒ‡å®šIPåœ°å€ï¼Œä¾‹å¦‚é€šå¸¸ä»<a href="https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E8%AE%BE%E7%BD%AE%E5%8D%8F%E8%AE%AE" title="DHCP">DHCP</a>æœåŠ¡å™¨æ‰€æ£€ç´¢åˆ°çš„IPåœ°å€ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-5" title="[5]">[5]</a></td>
</tr>
<tr>
<td><a href="http://172.16.0.0/12" title="172.16.0.0/12">172.16.0.0/12</a></td>
<td><a href="http://172.16.0.0" title="172.16.0.0">172.16.0.0</a> â€“ <a href="http://172.31.255.255" title="172.31.255.255">172.31.255.255</a></td>
<td>1,048,576</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C" title="ä¸“ç”¨ç½‘ç»œ">ä¸“ç”¨ç½‘ç»œ</a>ä¸­çš„æœ¬åœ°é€šä¿¡ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc1918-2" title="[2]">[2]</a></td>
</tr>
<tr>
<td><a href="http://192.0.0.0/24" title="192.0.0.0/24">192.0.0.0/24</a></td>
<td><a href="http://192.0.0.0" title="192.0.0.0">192.0.0.0</a> â€“ <a href="http://192.0.0.255" title="192.0.0.255">192.0.0.255</a></td>
<td>256</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äºIANAçš„IPv4ç‰¹æ®Šç”¨é€”åœ°å€è¡¨ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc5736-6" title="[6]">[6]</a></td>
</tr>
<tr>
<td><a href="http://192.0.2.0/24" title="192.0.2.0/24">192.0.2.0/24</a></td>
<td><a href="http://192.0.2.0" title="192.0.2.0">192.0.2.0</a> â€“ <a href="http://192.0.2.255" title="192.0.2.255">192.0.2.255</a></td>
<td>256</td>
<td>æ–‡æ¡£</td>
<td>åˆ†é…ä¸ºç”¨äºæ–‡æ¡£å’Œç¤ºä¾‹ä¸­çš„â€œTEST-NETâ€ï¼ˆæµ‹è¯•ç½‘ï¼‰ï¼Œå®ƒä¸åº”è¯¥è¢«å…¬å¼€ä½¿ç”¨ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://192.88.99.0/24" title="192.88.99.0/24">192.88.99.0/24</a></td>
<td><a href="http://192.88.99.0" title="192.88.99.0">192.88.99.0</a> â€“ <a href="http://192.88.99.255" title="192.88.99.255">192.88.99.255</a></td>
<td>256</td>
<td>äº’è”ç½‘</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/6to4" title="6to4">6to4</a><a href="https://zh.wikipedia.org/wiki/%E4%BB%BB%E6%92%AD" title="ä»»æ’­">ä»»æ’­</a>ä¸­ç»§ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-8" title="[8]">[8]</a>ï¼ˆå·²åºŸå¼ƒ<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc7526-9" title="[9]">[9]</a>ï¼‰</td>
</tr>
<tr>
<td><a href="http://192.168.0.0/16" title="192.168.0.0/16">192.168.0.0/16</a></td>
<td><a href="http://192.168.0.0" title="192.168.0.0">192.168.0.0</a> â€“ <a href="http://192.168.255.255" title="192.168.255.255">192.168.255.255</a></td>
<td>65,536</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C" title="ä¸“ç”¨ç½‘ç»œ">ä¸“ç”¨ç½‘ç»œ</a>ä¸­çš„æœ¬åœ°é€šä¿¡ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc1918-2" title="[2]">[2]</a></td>
</tr>
<tr>
<td><a href="http://198.18.0.0/15" title="198.18.0.0/15">198.18.0.0/15</a></td>
<td><a href="http://198.18.0.0" title="198.18.0.0">198.18.0.0</a> â€“ <a href="http://198.19.255.255" title="198.19.255.255">198.19.255.255</a></td>
<td>131,072</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äºæµ‹è¯•ä¸¤ä¸ªä¸åŒçš„å­ç½‘çš„ç½‘é—´é€šä¿¡ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-10" title="[10]">[10]</a></td>
</tr>
<tr>
<td><a href="http://198.51.100.0/24" title="198.51.100.0/24">198.51.100.0/24</a></td>
<td><a href="http://198.51.100.0" title="198.51.100.0">198.51.100.0</a> â€“ <a href="http://198.51.100.255" title="198.51.100.255">198.51.100.255</a></td>
<td>256</td>
<td>æ–‡æ¡£</td>
<td>åˆ†é…ä¸ºç”¨äºæ–‡æ¡£å’Œç¤ºä¾‹ä¸­çš„â€œTEST-NET-2â€ï¼ˆæµ‹è¯•-ç½‘-2ï¼‰ï¼Œå®ƒä¸åº”è¯¥è¢«å…¬å¼€ä½¿ç”¨ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://203.0.113.0/24" title="203.0.113.0/24">203.0.113.0/24</a></td>
<td><a href="http://203.0.113.0" title="203.0.113.0">203.0.113.0</a> â€“ <a href="http://203.0.113.255" title="203.0.113.255">203.0.113.255</a></td>
<td>256</td>
<td>æ–‡æ¡£</td>
<td>åˆ†é…ä¸ºç”¨äºæ–‡æ¡£å’Œç¤ºä¾‹ä¸­çš„â€œTEST-NET-3â€ï¼ˆæµ‹è¯•-ç½‘-3ï¼‰ï¼Œå®ƒä¸åº”è¯¥è¢«å…¬å¼€ä½¿ç”¨ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://224.0.0.0/4" title="224.0.0.0/4">224.0.0.0/4</a></td>
<td><a href="http://224.0.0.0" title="224.0.0.0">224.0.0.0</a> â€“ <a href="http://239.255.255.255" title="239.255.255.255">239.255.255.255</a></td>
<td>268,435,456</td>
<td>äº’è”ç½‘</td>
<td>ç”¨äºå¤šæ’­ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc1112-11" title="[11]">[11]</a></td>
</tr>
<tr>
<td><a href="http://233.252.0.0/24" title="233.252.0.0/24">233.252.0.0/24</a></td>
<td><a href="http://233.252.0.0" title="233.252.0.0">233.252.0.0</a> - <a href="http://233.252.0.255" title="233.252.0.255">233.252.0.255</a></td>
<td>256</td>
<td>æ–‡æ¡£</td>
<td>åˆ†é…ä¸ºç”¨äºæ–‡æ¡£å’Œç¤ºä¾‹ä¸­çš„â€œMCAST-TEST-NETâ€ï¼Œå®ƒä¸åº”è¯¥è¢«å…¬å¼€ä½¿ç”¨</td>
</tr>
<tr>
<td><a href="http://240.0.0.0/4" title="240.0.0.0/4">240.0.0.0/4</a></td>
<td><a href="http://240.0.0.0" title="240.0.0.0">240.0.0.0</a> â€“ <a href="http://255.255.255.254" title="255.255.255.254">255.255.255.254</a></td>
<td>268,435,455</td>
<td>äº’è”ç½‘</td>
<td>ç”¨äºå°†æ¥ä½¿ç”¨ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc6890-12" title="[12]">[12]</a></td>
</tr>
<tr>
<td><a href="http://255.255.255.255/32" title="255.255.255.255/32">255.255.255.255/32</a></td>
<td><a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>1</td>
<td>å­ç½‘</td>
<td>ç”¨äºå—é™å¹¿æ’­åœ°å€ã€‚<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-rfc6890-12" title="[12]">[12]</a></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Address block</th>
<th>Address range</th>
<th>Number of addresses</th>
<th>Scope</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://0.0.0.0/8" title="0.0.0.0/8">0.0.0.0/8</a></td>
<td><a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a>â€“<a href="http://0.255.255.255" title="0.255.255.255">0.255.255.255</a></td>
<td>16777216</td>
<td>Software</td>
<td>Current network<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6890-3" title="[3]">[3]</a></td>
</tr>
<tr>
<td><a href="http://10.0.0.0/8" title="10.0.0.0/8">10.0.0.0/8</a></td>
<td><a href="http://10.0.0.0" title="10.0.0.0">10.0.0.0</a>â€“<a href="http://10.255.255.255" title="10.255.255.255">10.255.255.255</a></td>
<td>16777216</td>
<td>PrivateÂ network</td>
<td>Used for local communications within a <a href="https://en.wikipedia.org/wiki/Private_network" title="private network">private network</a>.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc1918-4" title="[4]">[4]</a></td>
</tr>
<tr>
<td><a href="http://100.64.0.0/10" title="100.64.0.0/10">100.64.0.0/10</a></td>
<td><a href="http://100.64.0.0" title="100.64.0.0">100.64.0.0</a>â€“<a href="http://100.127.255.255" title="100.127.255.255">100.127.255.255</a></td>
<td>4194304</td>
<td>PrivateÂ network</td>
<td><a href="https://en.wikipedia.org/wiki/IPv4_shared_address_space" title="Shared address space">Shared address space</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6598-5" title="[5]">[5]</a> for communications between a service provider and its subscribers when using a <a href="https://en.wikipedia.org/wiki/Carrier-grade_NAT" title="carrier-grade NAT">carrier-grade NAT</a>.</td>
</tr>
<tr>
<td><a href="http://127.0.0.0/8" title="127.0.0.0/8">127.0.0.0/8</a></td>
<td><a href="http://127.0.0.0" title="127.0.0.0">127.0.0.0</a>â€“<a href="http://127.255.255.255" title="127.255.255.255">127.255.255.255</a></td>
<td>16777216</td>
<td>Host</td>
<td>Used for <a href="https://en.wikipedia.org/wiki/Loopback_address" title="loopback addresses">loopback addresses</a> to the local host.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6890-3" title="[3]">[3]</a></td>
</tr>
<tr>
<td><a href="http://169.254.0.0/16" title="169.254.0.0/16">169.254.0.0/16</a></td>
<td><a href="http://169.254.0.0" title="169.254.0.0">169.254.0.0</a>â€“<a href="http://169.254.255.255" title="169.254.255.255">169.254.255.255</a></td>
<td>65536</td>
<td>Subnet</td>
<td>Used for <a href="https://en.wikipedia.org/wiki/Link-local_address" title="link-local addresses">link-local addresses</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc3927-6" title="[6]">[6]</a> between two hosts on a single link when no IP address is otherwise specified, such as would have normally been retrieved from a <a href="https://en.wikipedia.org/wiki/DHCP" title="DHCP">DHCP</a> server.</td>
</tr>
<tr>
<td><a href="http://172.16.0.0/12" title="172.16.0.0/12">172.16.0.0/12</a></td>
<td><a href="http://172.16.0.0" title="172.16.0.0">172.16.0.0</a>â€“<a href="http://172.31.255.255" title="172.31.255.255">172.31.255.255</a></td>
<td>1048576</td>
<td>PrivateÂ network</td>
<td>Used for local communications within a private network.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc1918-4" title="[4]">[4]</a></td>
</tr>
<tr>
<td><a href="http://192.0.0.0/24" title="192.0.0.0/24">192.0.0.0/24</a></td>
<td><a href="http://192.0.0.0" title="192.0.0.0">192.0.0.0</a>â€“<a href="http://192.0.0.255" title="192.0.0.255">192.0.0.255</a></td>
<td>256</td>
<td>PrivateÂ network</td>
<td>IETF Protocol Assignments.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6890-3" title="[3]">[3]</a></td>
</tr>
<tr>
<td><a href="http://192.0.2.0/24" title="192.0.2.0/24">192.0.2.0/24</a></td>
<td><a href="http://192.0.2.0" title="192.0.2.0">192.0.2.0</a>â€“<a href="http://192.0.2.255" title="192.0.2.255">192.0.2.255</a></td>
<td>256</td>
<td>Documentation</td>
<td>Assigned as TEST-NET-1, documentation and examples.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://192.88.99.0/24" title="192.88.99.0/24">192.88.99.0/24</a></td>
<td><a href="http://192.88.99.0" title="192.88.99.0">192.88.99.0</a>â€“<a href="http://192.88.99.255" title="192.88.99.255">192.88.99.255</a></td>
<td>256</td>
<td>Internet</td>
<td>Reserved.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc7526-8" title="[8]">[8]</a> Formerly used for <a href="https://en.wikipedia.org/wiki/6to4" title="IPv6 to IPv4">IPv6 to IPv4</a> relay<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc3068-9" title="[9]">[9]</a> (included <a href="https://en.wikipedia.org/wiki/IPv6" title="IPv6">IPv6</a> address block <a href="https://en.wikipedia.org/wiki/IPv6_address#Special_addresses" title="2002::/16">2002::/16</a>).</td>
</tr>
<tr>
<td><a href="http://192.168.0.0/16" title="192.168.0.0/16">192.168.0.0/16</a></td>
<td><a href="http://192.168.0.0" title="192.168.0.0">192.168.0.0</a>â€“<a href="http://192.168.255.255" title="192.168.255.255">192.168.255.255</a></td>
<td>65536</td>
<td>PrivateÂ network</td>
<td>Used for local communications within a private network.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc1918-4" title="[4]">[4]</a></td>
</tr>
<tr>
<td><a href="http://198.18.0.0/15" title="198.18.0.0/15">198.18.0.0/15</a></td>
<td><a href="http://198.18.0.0" title="198.18.0.0">198.18.0.0</a>â€“<a href="http://198.19.255.255" title="198.19.255.255">198.19.255.255</a></td>
<td>131072</td>
<td>PrivateÂ network</td>
<td>Used for benchmark testing of inter-network communications between two separate subnets.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc2544-10" title="[10]">[10]</a></td>
</tr>
<tr>
<td><a href="http://198.51.100.0/24" title="198.51.100.0/24">198.51.100.0/24</a></td>
<td><a href="http://198.51.100.0" title="198.51.100.0">198.51.100.0</a>â€“<a href="http://198.51.100.255" title="198.51.100.255">198.51.100.255</a></td>
<td>256</td>
<td>Documentation</td>
<td>Assigned as TEST-NET-2, documentation and examples.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://203.0.113.0/24" title="203.0.113.0/24">203.0.113.0/24</a></td>
<td><a href="http://203.0.113.0" title="203.0.113.0">203.0.113.0</a>â€“<a href="http://203.0.113.255" title="203.0.113.255">203.0.113.255</a></td>
<td>256</td>
<td>Documentation</td>
<td>Assigned as TEST-NET-3, documentation and examples.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5737-7" title="[7]">[7]</a></td>
</tr>
<tr>
<td><a href="http://224.0.0.0/4" title="224.0.0.0/4">224.0.0.0/4</a></td>
<td><a href="http://224.0.0.0" title="224.0.0.0">224.0.0.0</a>â€“<a href="http://239.255.255.255" title="239.255.255.255">239.255.255.255</a></td>
<td>268435456</td>
<td>Internet</td>
<td>In use for <a href="https://en.wikipedia.org/wiki/IP_multicast" title="IP multicast">IP multicast</a>.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5771-11" title="[11]">[11]</a> (Former Class D network.)</td>
</tr>
<tr>
<td><a href="http://233.252.0.0/24" title="233.252.0.0/24">233.252.0.0/24</a></td>
<td>233.252.0.0-233.252.0.255</td>
<td>256</td>
<td>Documentation</td>
<td>Assigned as MCAST-TEST-NET, documentation and examples.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5771-11" title="[11]">[11]</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6676-12" title="[12]">[12]</a></td>
</tr>
<tr>
<td><a href="http://240.0.0.0/4" title="240.0.0.0/4">240.0.0.0/4</a></td>
<td><a href="http://240.0.0.0" title="240.0.0.0">240.0.0.0</a>â€“<a href="http://255.255.255.254" title="255.255.255.254">255.255.255.254</a></td>
<td>268435455</td>
<td>Internet</td>
<td>Reserved for future use.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc3232-13" title="[13]">[13]</a> (Former Class E network.)</td>
</tr>
<tr>
<td><a href="http://255.255.255.255/32" title="255.255.255.255/32">255.255.255.255/32</a></td>
<td><a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>1</td>
<td>Subnet</td>
<td>Reserved for the &quot;limited <a href="https://en.wikipedia.org/wiki/Broadcast_address" title="broadcast">broadcast</a>&quot; destination address.<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6890-3" title="[3]">[3]</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc919-14" title="[14]">[14]</a></td>
</tr>
</tbody>
</table>
<h2 id="ipv6">IPV6</h2>
<table>
<thead>
<tr>
<th>åœ°å€å—ï¼ˆCIDRï¼‰</th>
<th>èŒƒå›´</th>
<th>åœ°å€æ•°</th>
<th>æ•ˆç”¨åŸŸ</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>::/128</td>
<td>::</td>
<td>1</td>
<td>è½¯ä»¶</td>
<td>æœªæŒ‡å®šåœ°å€ã€‚</td>
</tr>
<tr>
<td>::1/128</td>
<td>::1</td>
<td>1</td>
<td>ä¸»æœº</td>
<td>ç”¨äºåˆ°æœ¬åœ°ä¸»æœºçš„ç¯å›åœ°å€ã€‚</td>
</tr>
<tr>
<td>::ffff:0:0/96</td>
<td>::ffff:0:0 â€“::ffff:ffff:ffff(::ffff:<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a> â€“::ffff:<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a>)</td>
<td>232</td>
<td>è½¯ä»¶</td>
<td>IPv4æ˜ å°„åœ°å€ã€‚</td>
</tr>
<tr>
<td>100::/64</td>
<td>100:: â€“100::ffff:ffff:ffff:ffff</td>
<td>264</td>
<td></td>
<td>RFC 6666ä¸­åºŸé™¤çš„å‰ç¼€ã€‚</td>
</tr>
<tr>
<td>64:ff9b::/96</td>
<td>64:ff9b::64:ff9b::ffff:ffff(64:ff9b::<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a> â€“64:ff9b::<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a>)</td>
<td>232</td>
<td>å…¨çƒäº’è”ç½‘<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80#cite_note-13" title="[13]">[13]</a></td>
<td>ç”¨äºIPv4/IPv6è½¬æ¢ã€‚ï¼ˆ<a href="https://tools.ietf.org/html/rfc6052" title="RFC 6052">RFC 6052</a>ï¼‰</td>
</tr>
<tr>
<td>2001::/32</td>
<td>2001:: â€“2001::ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>296</td>
<td>å…¨å±€</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/Teredo%E9%9A%A7%E9%81%93" title="Teredo">Teredo</a>é€šé“ã€‚</td>
</tr>
<tr>
<td>2001:10::/28</td>
<td>2001:10:: â€“2001:1f:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2100</td>
<td>è½¯ä»¶</td>
<td>å·²å¼ƒç”¨ï¼ˆå…ˆå‰ä¸º<a href="https://zh.wikipedia.org/w/index.php?title=ORCHID&amp;action=edit&amp;redlink=1" title="ORCHID">ORCHID</a>ï¼‰ã€‚</td>
</tr>
<tr>
<td>2001:20::/28</td>
<td>2001:20:: â€“2001:2f:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2100</td>
<td>è½¯ä»¶</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=ORCHIDv2&amp;action=edit&amp;redlink=1" title="ORCHIDv2">ORCHIDv2</a>ã€‚</td>
</tr>
<tr>
<td>2001:db8::/32</td>
<td>2001:db8:: â€“2001:db8:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>296</td>
<td>æ–‡æ¡£</td>
<td>ç”¨äºæ–‡æ¡£å’Œç¤ºä¾‹æºä»£ç ä¸­çš„åœ°å€ã€‚</td>
</tr>
<tr>
<td>2002::/16</td>
<td>2002:: â€“2002:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2112</td>
<td>å…¨çƒäº’è”ç½‘</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/6to4" title="6to4">6to4</a>ã€‚</td>
</tr>
<tr>
<td>fc00::/7</td>
<td>fc00:: â€“fdff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2121</td>
<td>ä¸“ç”¨ç½‘ç»œ</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C" title="ä¸“ç”¨ç½‘ç»œ">ä¸“ç”¨ç½‘ç»œ</a>ä¸­çš„æœ¬åœ°é€šä¿¡ã€‚</td>
</tr>
<tr>
<td>fe80::/10</td>
<td>fe80:: â€“febf:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2118</td>
<td>é“¾è·¯</td>
<td>ç”¨äºä¸»æœºä¹‹é—´çš„<a href="https://zh.wikipedia.org/wiki/%E9%93%BE%E8%B7%AF%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80" title="é“¾è·¯æœ¬åœ°åœ°å€">é“¾è·¯æœ¬åœ°åœ°å€</a>ã€‚</td>
</tr>
<tr>
<td>ff00::/8</td>
<td>ff00:: â€“ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2120</td>
<td>å…¨çƒäº’è”ç½‘</td>
<td>ç”¨äº<a href="https://zh.wikipedia.org/w/index.php?title=%E5%A4%9A%E6%92%AD%E5%9C%B0%E5%9D%80&amp;action=edit&amp;redlink=1" title="å¤šæ’­åœ°å€">å¤šæ’­åœ°å€</a>ã€‚</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Address block (CIDR)</th>
<th>First address</th>
<th>Last address</th>
<th>Number of addresses</th>
<th>Usage</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>::/0</td>
<td>::</td>
<td>ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2128</td>
<td>Routing</td>
<td><a href="https://en.wikipedia.org/wiki/Default_route" title="Default route">Default route</a> (no specific route)</td>
</tr>
<tr>
<td>::/128</td>
<td>::</td>
<td>::</td>
<td>1</td>
<td>Software</td>
<td>Unspecified address</td>
</tr>
<tr>
<td>::1/128</td>
<td>::1</td>
<td>::1</td>
<td>1</td>
<td>Host</td>
<td><a href="https://en.wikipedia.org/wiki/Loopback_address" title="Loopback address">Loopback address</a>â€”a virtual interface that loops all traffic back to itself, the <em>local host</em></td>
</tr>
<tr>
<td>::ffff:0:0/96</td>
<td>::ffff:<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a></td>
<td>::ffff:<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>2128 âˆ’ 96 = 232 = 4294967296</td>
<td>Software</td>
<td>IPv4-mapped addresses</td>
</tr>
<tr>
<td>::ffff:0:0:0/96</td>
<td>::ffff:0:<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a></td>
<td>::ffff:0:<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>232</td>
<td>Software</td>
<td>IPv4 translated addresses</td>
</tr>
<tr>
<td>64:ff9b::/96</td>
<td>64:ff9b::<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a></td>
<td>64:ff9b::<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>232</td>
<td>Global Internet</td>
<td>IPv4/IPv6 translation<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6052-15" title="[15]">[15]</a></td>
</tr>
<tr>
<td>64:ff9b:1::/48</td>
<td>64:ff9b:1::<a href="http://0.0.0.0" title="0.0.0.0">0.0.0.0</a></td>
<td>64:ff9b:1:ffff:ffff:ffff:<a href="http://255.255.255.255" title="255.255.255.255">255.255.255.255</a></td>
<td>280</td>
<td>Private internets</td>
<td>IPv4/IPv6 translation<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc8215-16" title="[16]">[16]</a></td>
</tr>
<tr>
<td>100::/64</td>
<td>100::</td>
<td>100::ffff:ffff:ffff:ffff</td>
<td>264</td>
<td>Routing</td>
<td>Discard prefix<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc6666-17" title="[17]">[17]</a></td>
</tr>
<tr>
<td>2001:0000::/32</td>
<td>2001::</td>
<td>2001::ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>296</td>
<td>Global Internet</td>
<td><a href="https://en.wikipedia.org/wiki/Teredo_tunneling" title="Teredo tunneling">Teredo tunneling</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-18" title="[18]">[18]</a></td>
</tr>
<tr>
<td>2001:20::/28</td>
<td>2001:20::</td>
<td>2001:2f:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2100</td>
<td>Software</td>
<td><a href="https://en.wikipedia.org/w/index.php?title=ORCHIDv2&amp;action=edit&amp;redlink=1" title="ORCHIDv2">ORCHIDv2</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc7343-19" title="[19]">[19]</a></td>
</tr>
<tr>
<td>2001:db8::/32</td>
<td>2001:db8::</td>
<td>2001:db8:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>296</td>
<td>Documentation</td>
<td>Addresses used in documentation and example source code<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc3849-20" title="[20]">[20]</a></td>
</tr>
<tr>
<td>2002::/16</td>
<td>2002::</td>
<td>2002:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2112</td>
<td>Global Internet</td>
<td>The <a href="https://en.wikipedia.org/wiki/6to4" title="6to4">6to4</a> addressing scheme (deprecated)<a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc7526-8" title="[8]">[8]</a></td>
</tr>
<tr>
<td>fc00::/7</td>
<td>fc00::</td>
<td>fdff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2121</td>
<td>Private internets</td>
<td><a href="https://en.wikipedia.org/wiki/Unique_local_address" title="Unique local address">Unique local address</a><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc4193-21" title="[21]">[21]</a></td>
</tr>
<tr>
<td>fe80::/10</td>
<td>fe80::</td>
<td>fe80::ffff:ffff:ffff:ffff</td>
<td>264</td>
<td>Link</td>
<td><a href="https://en.wikipedia.org/wiki/Link-local_address#IPv6" title="Link-local address">Link-local address</a></td>
</tr>
<tr>
<td>ff00::/8</td>
<td>ff00::</td>
<td>ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</td>
<td>2120</td>
<td>Global Internet</td>
<td><a href="https://en.wikipedia.org/wiki/Multicast_address#IPv6" title="Multicast address">Multicast address</a></td>
</tr>
</tbody>
</table>
<p>æ¥æºï¼š<a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80" title="https://zh.wikipedia.org/wiki/ä¿ç•™IPåœ°å€">https://zh.wikipedia.org/wiki/ä¿ç•™IPåœ°å€</a></p>
<p><a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5771-11" title="https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5771-11">https://en.wikipedia.org/wiki/Reserved_IP_addresses#cite_note-rfc5771-11</a></p>
</div>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ESXIç›¸å…³]]></title>
        <id>http://WEI-KE.github.io/post/esxi-an-zhuang/</id>
        <link href="http://WEI-KE.github.io/post/esxi-an-zhuang/">
        </link>
        <updated>2023-05-02T10:27:28.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æŒ‚è½½usbå­˜å‚¨">æŒ‚è½½USBå­˜å‚¨ï¼š</h2>
<p>åœ¨ä¸æ¥å…¥USBç¡¬ç›˜çš„æƒ…å†µä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>/etc/init.d/usbarbitrator stop
chkconfig usbarbitrator off
</code></pre>
<p>æ¥å…¥ç¡¬ç›˜</p>
<pre><code>esxcli storage core device list |grep -i usb
</code></pre>
<p>æŸ¥çœ‹åˆ†åŒºè¡¨</p>
<pre><code>cd /dev/disks/
partedUtil getptbl mpx.vmhba32:C0:T0:L0

ç¤ºä¾‹ï¼š
[root@localhost:/dev/disks] partedUtil getptbl mpx.vmhba32:C0:T0:L0 
gpt 
31130 255 63 500118192 
1 64 204863 C12A7328F81F11D2BA4B00A0C93EC93B systemPartition 128 
5 208896 8595455 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0 
6 8597504 16984063 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0
</code></pre>
<p>åˆ›å»ºæ–°åˆ†åŒº</p>
<pre><code>partedUtil setptbl mpx.vmhba32:C0:T0:L0 gpt \
&quot;1 64 204863 C12A7328F81F11D2BA4B00A0C93EC93B  128&quot; \
&quot;5 208896 8595455 EBD0A0A2B9E5443387C068B6B72699C7  0&quot; \
&quot;6 8597504 16984063 EBD0A0A2B9E5443387C068B6B72699C7  0&quot; \
&quot;3 16984064 500118158 AA31E02A400F11DB9590000C2911D1B8 0&quot;
</code></pre>
<p>å†æ¬¡æŸ¥çœ‹</p>
<pre><code>partedUtil getptbl mpx.vmhba32:C0:T0:L0
</code></pre>
<p>æ ¼å¼åŒ–åˆ†åŒº</p>
<pre><code>vmkfstools -C vmfs6 -b 1m -S UsbDatastore mpx.vmhba32:C0:T0:L0:3
</code></pre>
<p>å‚è€ƒæ¥æºï¼š<a href="https://vt.wooomooo.com/archives/39786">https://vt.wooomooo.com/archives/39786</a></p>
<h2 id="sataç›´é€š">SATAç›´é€š</h2>
<p>æŸ¥çœ‹SATAæ§åˆ¶å™¨</p>
<pre><code>lspci -v | grep &quot;Class 0106&quot; -B 1

ç¤ºä¾‹ï¼š
[root@localhost:/dev/disks] lspci -v | grep &quot;Class 0106&quot; -B 1 
0000:00:1f.2 Mass storage controller SATA controller: Intel Corporation Lynx Point AHCI Controller [vmhba0] 
         Class 0106: 8086:8c02
</code></pre>
<p>ç¼–è¾‘ç›´é€šåˆ—è¡¨</p>
<pre><code>vi /etc/vmware/passthru.map
</code></pre>
<p>åœ¨æœ«å°¾æ·»åŠ </p>
<pre><code>#Intel Corporation Lynx Point AHCI Controller
8086   8c02    d3d0    fasle

æ›¿æ¢ç¬¬äºŒä½è®¾å¤‡IDå³å¯
</code></pre>
<p>é‡å¯</p>
<pre><code>reboot
</code></pre>
<p>å‚è€ƒæ¥æºï¼šhttps://vt.wooomooo.com/archives/13671</p>
<h2 id="è§£å†³-æœªé…ç½®ä»»ä½•-coredump-ç›®æ ‡-æ— æ³•ä¿å­˜ä¸»æœºæ ¸å¿ƒè½¬å‚¨">è§£å†³ æœªé…ç½®ä»»ä½• coredump ç›®æ ‡ã€‚æ— æ³•ä¿å­˜ä¸»æœºæ ¸å¿ƒè½¬å‚¨</h2>
<p>æŸ¥çœ‹coredumpçŠ¶æ€ã€‚</p>
<pre><code>esxcli system coredump file list 
</code></pre>
<p>çœ‹åˆ°æœ€åä¸€æ¡çš„ActiiveçŠ¶æ€ä¸ºfalseã€‚<br>
<img src="http://WEI-KE.github.io/post-images/1683023840294.jpeg" alt="" loading="lazy"></p>
<p>å¯ç”¨æ–‡ä»¶</p>
<pre><code>esxcli system coredump file set -e true
</code></pre>
<p>5.å†æ¬¡æŸ¥çœ‹coredumpçŠ¶æ€ï¼Œå·²ç»æ”¹ä¸ºtrueã€‚<br>
<img src="http://WEI-KE.github.io/post-images/1683023882209.jpeg" alt="" loading="lazy"></p>
<p>6.å›åˆ°ESXIï¼Œå‘Šè­¦ä¿¡æ¯å·²ç»æ²¡æœ‰äº†ã€‚</p>
<p>7.å¦‚æœdumpfileä¸å­˜åœ¨ï¼Œè¦å°† ESXi é…ç½®ä¸ºåœ¨ VMFS ä¸Šç”Ÿæˆæ–‡ä»¶å½¢å¼çš„ coredumpï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<p>ä½¿ç”¨ SSH è¿æ¥åˆ° ESXi ä¸»æœºï¼›</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ ç”¨ä½œ coredump çš„æ–°æ–‡ä»¶ï¼š</p>
<pre><code>esxcli system coredump file add
</code></pre>
<p>-då¯ä»¥æŒ‡å®šç”¨äº coredump æ–‡ä»¶çš„vmfsæ•°æ®å­˜å‚¨ã€‚å¦‚æœæœªæä¾›æ­¤é€‰é¡¹ï¼Œå°†è‡ªåŠ¨é€‰æ‹©å¤§å°è¶³å¤Ÿçš„æ•°æ®å­˜å‚¨ã€‚</p>
<p>-få¯ä»¥æŒ‡å®š coredump æ–‡ä»¶çš„æ–‡ä»¶åã€‚å¦‚æœæœªæä¾›æ­¤é€‰é¡¹ï¼Œåˆ™ä¼šåˆ›å»ºå”¯ä¸€åç§°ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>esxcli system coredump file add -d UsbDatastore -f test
</code></pre>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤è·å–å…·æœ‰è®¿é—®æƒé™çš„æ‰€æœ‰è½¬å‚¨æ–‡ä»¶çš„åˆ—è¡¨ï¼š</p>
<pre><code>esxcli system coredump file list
</code></pre>
<p>æ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹å†…å®¹çš„è¾“å‡ºï¼š<br>
<img src="http://WEI-KE.github.io/post-images/1683023905292.jpeg" alt="" loading="lazy"></p>
<p>æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰æŒ‡å®š coredump æ–‡ä»¶ï¼Œåˆ™è¿è¡Œå‘½ä»¤ä¸ä¼šæ˜¾ç¤ºä»»ä½•è¾“å‡ºã€‚</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤è®¾ç½®ä¸»æœºçš„è½¬å‚¨æ–‡ä»¶ï¼š</p>
<pre><code>esxcli system coredump file set -p /vmfs/volumes/DATASTORE_UUID/vmkdump/FILENAME
</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code>esxcli system coredump file set -p /vmfs/volumes/UsbDatastore/vmkdump/FCE0EAC0-D837-11DD-8EAD-F832E4BE8554.dumpfile
</code></pre>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯è½¬å‚¨æ–‡ä»¶æ˜¯å¦å·²é…ç½®å¹¶ä¸”å¤„äºæ´»åŠ¨çŠ¶æ€ï¼š</p>
<pre><code>esxcli system coredump file list
</code></pre>
<p>æ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹å†…å®¹çš„è¾“å‡ºï¼š<br>
<img src="http://WEI-KE.github.io/post-images/1683023905292.jpeg" alt="" loading="lazy"></p>
<p>è¾“å‡ºç»“æœè¡¨æ˜è¯¥æ–‡ä»¶çš„æ´»åŠ¨çŠ¶æ€å’Œå·²é…ç½®çŠ¶æ€ä¸º Trueã€‚</p>
<h2 id="è§£å†³-ç³»ç»Ÿæ—¥å¿—å­˜å‚¨åœ¨éæŒä¹…å­˜å‚¨ä¸­">è§£å†³ ç³»ç»Ÿæ—¥å¿—å­˜å‚¨åœ¨éæŒä¹…å­˜å‚¨ä¸­</h2>
<p>åœ¨å­˜å‚¨å†…æ–°å»ºå­˜æ”¾ä¸»æœºæ—¥å¿—çš„æ–‡ä»¶å¤¹ï¼Œå¹¶è®°å½•ä¸€ä¸‹è¿™ä¸ªå­˜å‚¨è·¯å¾„<br>
ä¾‹å¦‚ [UsbDatastore] Log/<br>
<img src="http://WEI-KE.github.io/post-images/1683024020085.jpeg" alt="" loading="lazy"></p>
<p>ä¿®æ”¹ä¸»æœº-é…ç½®-é«˜çº§ç³»ç»Ÿè®¾ç½®-ç¼–è¾‘<br>
<img src="http://WEI-KE.github.io/post-images/1683024042115.jpeg" alt="" loading="lazy"></p>
<p>ä¿®æ”¹ Syslog.global.logdir å€¼ä¸ºæ–°å»ºçš„æ–‡ä»¶å¤¹çš„å­˜å‚¨è·¯å¾„<br>
<img src="http://WEI-KE.github.io/post-images/1683024066033.jpeg" alt="" loading="lazy"></p>
<p>ç‚¹å‡»ç¡®å®šï¼Œè­¦å‘Šæ¶ˆå¤±</p>
<h2 id="å¼€å¯åµŒå¥—è™šæ‹ŸåŒ–">å¼€å¯åµŒå¥—è™šæ‹ŸåŒ–</h2>
<pre><code>vi /etc/vmware/config
vhv.enable = &quot;TRUE&quot;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ubuntuå®‰è£…zabbix]]></title>
        <id>http://WEI-KE.github.io/post/ubuntu-an-zhuang-zabbix/</id>
        <link href="http://WEI-KE.github.io/post/ubuntu-an-zhuang-zabbix/">
        </link>
        <updated>2023-05-02T08:44:28.000Z</updated>
        <content type="html"><![CDATA[<h4 id="1-å®‰è£…zabbixä»¥64ç‰ˆæœ¬-ubuntu-2204-mysql-nginxä¸ºä¾‹">1ã€å®‰è£…zabbixï¼Œä»¥6.4ç‰ˆæœ¬ Ubuntu 22.04 MySql Nginxä¸ºä¾‹</h4>
<pre><code class="language-Bash">wget https://repo.zabbix.com/zabbix/6.4/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.4-1+ubuntu22.04_all.deb
sudo dpkg -i zabbix-release_6.4-1+ubuntu22.04_all.deb
sudo apt update
sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-nginx-conf zabbix-sql-scripts zabbix-agent
</code></pre>
<h4 id="2-å®‰è£…mysql">2 ã€å®‰è£…MySql</h4>
<p>ä¸‹è½½<a href="https://dev.mysql.com/downloads/repo/apt/">https://dev.mysql.com/downloads/repo/apt/</a>å¹¶ä¸Šä¼ </p>
<p>æˆ–è€…<a href="http://mirrors.ustc.edu.cn/mysql-repo/">http://mirrors.ustc.edu.cn/mysql-repo/</a></p>
<pre><code class="language-Bash">sudo dpkg -i mysql-apt-config_0.8.24-1_all.deb
sudo apt update
sudo apt install mysql-server
</code></pre>
<p>å®‰è£…è¾“å…¥æ•°æ®åº“ROOTå¯†ç ï¼Œå…¶ä»–ä¿æŒé»˜è®¤å³å¯</p>
<h4 id="3-é…ç½®æ•°æ®åº“">3ã€é…ç½®æ•°æ®åº“</h4>
<pre><code class="language-SQL">mysql -uroot -p

create database zabbix character set utf8mb4 collate utf8mb4_bin;
create user zabbix@localhost identified by 'zabbixæ•°æ®åº“å¯†ç ';
grant all privileges on zabbix.* to zabbix@localhost;
set global log_bin_trust_function_creators = 1;
quit;
</code></pre>
<h4 id="4-åœ¨zabbixæœåŠ¡å™¨ä¸»æœºä¸Šå¯¼å…¥åˆå§‹æ•°æ®">4ã€åœ¨ZabbixæœåŠ¡å™¨ä¸»æœºä¸Šå¯¼å…¥åˆå§‹æ•°æ®</h4>
<pre><code class="language-Bash">sudo zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix
</code></pre>
<p>è¾“å…¥zabbixæ•°æ®åº“å¯†ç </p>
<h4 id="5-å¯¼å…¥æ•°æ®åº“æ¶æ„åç¦ç”¨log_bin_trust_function_creatorsé€‰é¡¹">5ã€å¯¼å…¥æ•°æ®åº“æ¶æ„åç¦ç”¨log_bin_trust_function_creatorsé€‰é¡¹ã€‚</h4>
<pre><code class="language-Bash">mysql -uroot -p
password
mysql&gt; set global log_bin_trust_function_creators = 0;
mysql&gt; quit;
</code></pre>
<h4 id="6-ä¿®æ”¹zabbixçš„é…ç½®æ–‡ä»¶">6ã€ä¿®æ”¹zabbixçš„é…ç½®æ–‡ä»¶</h4>
<pre><code class="language-Bash">sudo vi /etc/zabbix/zabbix_server.conf
</code></pre>
<pre><code class="language-XML">DBPassword=zabbixæ•°æ®åº“å¯†ç 
</code></pre>
<h4 id="7-ä¿®æ”¹nginxé…ç½®ä¿®æ”¹æ³¨é‡Šå’Œç«¯å£å·">7ã€ä¿®æ”¹nginxé…ç½®ï¼Œä¿®æ”¹æ³¨é‡Šå’Œç«¯å£å·</h4>
<pre><code class="language-Bash">sudo vi /etc/zabbix/nginx.conf
sudo vi /etc/nginx/sites-available
</code></pre>
<pre><code class="language-XML"> listen 80;
 server_name example.com;
</code></pre>
<h4 id="8æ·»åŠ ä¸­æ–‡æ”¯æŒå–æ¶ˆutf-8çš„ä¸­æ–‡æ³¨é‡Š">8æ·»åŠ ä¸­æ–‡æ”¯æŒï¼Œå–æ¶ˆUTF-8çš„ä¸­æ–‡æ³¨é‡Š</h4>
<pre><code class="language-Bash"> sudo vi /etc/locale.gen 
 sudo locale-gen
</code></pre>
<p>å¯èƒ½éœ€è¦rootè´¦æˆ·æ‰§è¡Œlocale-genã€‚ã€‚</p>
<h4 id="9-é‡å¯æœåŠ¡è®¾ç½®è‡ªå¯åŠ¨">9ã€é‡å¯æœåŠ¡è®¾ç½®è‡ªå¯åŠ¨</h4>
<pre><code class="language-Bash">sudo systemctl restart zabbix-server zabbix-agent nginx php8.1-fpm
sudo systemctl enable zabbix-server zabbix-agent nginx php8.1-fpm
</code></pre>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬¬ä¸€ç¯‡åšå®¢ï¼Ÿ]]></title>
        <id>http://WEI-KE.github.io/post/di-yi-pian-bo-ke/</id>
        <link href="http://WEI-KE.github.io/post/di-yi-pian-bo-ke/">
        </link>
        <updated>2023-05-02T08:21:12.000Z</updated>
        <content type="html"><![CDATA[<p>ğŸ¤”æœ€è¿‘æƒ³åšä¸ªä¸ªäººç½‘ç«™ï¼Œä¸»è¦ç”¨äºè®°ç¬”è®°å’Œåˆ†äº«å†…å®¹ <s>ï¼Œä»¥åŠèƒ½å¤Ÿè®©åˆ«äººå¿«é€Ÿäº†è§£æˆ‘</s>ã€‚<br>
å¾ˆæ—©ä¹‹å‰ç©è¿‡äº‘ä¸»æœºï¼Œæ‰€ä»¥ä¹°è¿‡åŸŸåå’Œä¸»æœºï¼Œé¡ºåŠ¿æƒ³åˆ°äº†ç»§ç»­ç”¨åŸæ¥çš„æ–¹æ³•ã€‚<br>
ä»Šå¤©çœ‹äº†çœ‹é˜¿é‡Œäº‘å’Œè…¾è®¯çš„å›½å†…å¤–çš„è™šæ‹Ÿä¸»æœºå’ŒECSçœŸæ˜¯ä¸ä¾¿å®œã€‚<br>
ç„¶ååˆçœ‹äº†çœ‹å„ç§åšå®¢å¹³å°ã€‚<br>
æœ€åç»ˆäºæƒ³èµ·æ¥ æˆ‘æ¥ å’Œ æ¯æµ æœ‰åˆ†äº«é¡µé¢çš„åŠŸèƒ½ï¼Œè€Œä¸”æˆ‘æœ‰ä¸€äº›ç¬”è®°å·²ç»åœ¨ä¸Šé¢äº†ï¼Œè¿˜ä¸è¦é’±ã€‚ã€‚<br>
äºæ˜¯æµ‹è¯•äº†ä¸€ä¸‹åˆ†äº«é¡µé¢ï¼Œè¿˜è¡Œï¼Œå°±æ˜¯ä¸‹é¢æœ‰å¹¿å‘Šï¼Œå…è´¹çš„è¿˜è¦ä»€ä¹ˆè‡ªè¡Œè½¦ã€‚ã€‚<br>
<s>äºæ˜¯å°±æœ‰äº†ä½ çœ‹åˆ°çš„è¿™ç¯‡æ–‡ç« ã€‚ã€‚</s><br>
<s>PSï¼šç›®å‰ä»…ä»…æ˜¯ä¸ºäº†æµ‹è¯•åšå®¢æ”¾åœ¨ç¬”è®°ç½‘ç«™çš„å¯è¡Œæ€§ï¼Œæœ‰é—®é¢˜çš„è¯å¯èƒ½è¿˜æ˜¯è½¬åˆ°äº‘ä¸»æœºã€‚</s><br>
æµ‹è¯•å¤±è´¥ï¼ŒåŸå› æ˜¯æœ¬æ¥æƒ³ç”¨è‡ªå·±çš„åŸŸåè·³è½¬åˆ°ä¸¤ä¸ªè½¯ä»¶çš„<a href="https://www.wolai.com/bfvxGMnc1DU8MgVRhhkB34">å…¬å¼€åˆ†äº«é“¾æ¥</a> ä½†æ˜¯ä¸è¡ŒğŸ¤¡å› ä¸ºæ²¡åŠæ³•å¤‡æ¡ˆã€‚ã€‚<br>
ç¬¬äºŒå¤©åˆç ”ç©¶äº†ä¸€ä¸‹å‘ç°äº†ç°åœ¨çš„æ–¹æ¡ˆ Gridea+æ–‡ä»¶æ‰˜ç®¡åˆ°github+CDNåŠ é€Ÿ å¸Œæœ›èƒ½è¡Œ~~<br>
ç›®å‰çœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œæ¥ä¸‹æ¥ä¼šæŠŠä¹‹å‰å†™çš„ç¬”è®°åŒæ­¥ä¸€éƒ¨åˆ†ã€‚</p>
]]></content>
    </entry>
</feed>